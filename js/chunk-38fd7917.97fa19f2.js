(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38fd7917"],{"0d07":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"circle",staticClass:"circle-icon",class:{border__line:t.border}},[n("awesome-icon",{ref:"icon",staticClass:"icon",attrs:{icon:t.icon}})],1)},r=[],o=(n("a9e3"),{name:"circle-icon",props:{icon:{type:Array,require:!0},iconSize:{type:Number,default:16},border:{type:Boolean,default:!1},borderSize:{type:Number,default:30},color:{type:String,default:"#000"},backgroundColor:{type:String,default:"#fff"}},watch:{icon:{deep:!0,handler:function(){this.$refs.circle.style.width=this.borderSize+"px",this.$refs.circle.style.height=this.borderSize+"px",this.$refs.circle.style.lineHeight=this.borderSize+"px",this.$refs.circle.style.backgroundColor=this.backgroundColor,this.$refs.icon.style.fontSize=this.iconSize+"px",this.$refs.icon.style.color=this.color}}},mounted:function(){this.$refs.circle.style.width=this.borderSize+"px",this.$refs.circle.style.height=this.borderSize+"px",this.$refs.circle.style.lineHeight=this.borderSize+"px",this.$refs.circle.style.backgroundColor=this.backgroundColor,this.$refs.icon.style.fontSize=this.iconSize+"px",this.$refs.icon.style.color=this.color}}),a=o,s=(n("c530"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"603d664a",null);e["a"]=c.exports},2909:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t){if(Array.isArray(t))return i(t)}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("fb6a"),n("b0c0"),n("25f0");function a(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||o(t)||a(t)||s()}},"2b75":function(t,e,n){"use strict";var i=n("6e0f"),r=n.n(i);r.a},"3ca3":function(t,e,n){"use strict";var i=n("6547").charAt,r=n("69f3"),o=n("7dd0"),a="String Iterator",s=r.set,c=r.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},"4c90":function(t,e,n){"use strict";var i=n("7476"),r=n.n(i);r.a},"4df4":function(t,e,n){"use strict";var i=n("0366"),r=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,f,d,p,h=r(t),b="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,g=void 0!==m,y=l(h),k=0;if(g&&(m=i(m,v>2?arguments[2]:void 0,2)),void 0==y||b==Array&&a(y))for(e=s(h.length),n=new b(e);e>k;k++)p=g?m(h[k],k):h[k],c(n,k,p);else for(f=y.call(h),d=f.next,n=new b;!(u=d.call(f)).done;k++)p=g?o(f,m,[u.value,k],!0):u.value,c(n,k,p);return n.length=k,n}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r=n("5899"),o="["+r+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},6547:function(t,e,n){var i=n("a691"),r=n("1d80"),o=function(t){return function(e,n){var o,a,s=String(r(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"6e0f":function(t,e,n){},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},7476:function(t,e,n){},"8bf1":function(t,e,n){},"9a7a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));n("99af"),n("d3b7");var i=function(t){var e=JSON.parse(JSON.stringify(t));return e},r=function(){var t=new Date,e="".concat(t.getMonth()+1,"月").concat(t.getDate(),"日 ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds());return e}},a630:function(t,e,n){var i=n("23e7"),r=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:a},{from:r})},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),o=n("94ca"),a=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),f=n("d039"),d=n("7c73"),p=n("241c").f,h=n("06cf").f,b=n("9bf2").f,v=n("58a8").trim,m="Number",g=r[m],y=g.prototype,k=c(d(y))==m,S=function(t){var e,n,i,r,o,a,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(o=l.slice(2),a=o.length,s=0;s<a;s++)if(c=o.charCodeAt(s),c<48||c>r)return NaN;return parseInt(o,i)}return+l};if(o(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(k?f((function(){y.valueOf.call(n)})):c(n)!=m)?l(new g(S(e)),n,x):S(e)},A=i?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;A.length>C;C++)s(g,w=A[C])&&!s(x,w)&&b(x,w,h(g,w));x.prototype=y,y.constructor=x,a(r,m,x)}},c4a1:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"new-post"},[n("div",{staticClass:"wrapper"},[n("h1",[t._v("發表文章")]),n("div",{staticClass:"kanban"},[n("div",[n("button",{on:{click:function(e){return t.selectPostInfo("kanban")}},model:{value:t.postForm.kanban,callback:function(e){t.$set(t.postForm,"kanban",e)},expression:"postForm.kanban"}},[t._v(t._s(t.postForm.kanbanName))])]),n("div",{on:{click:function(e){return t.handleRule()}}},[n("awesome-icon",{attrs:{icon:["fas","info-circle"]}}),n("span",[t._v(" 發文規則")])],1)]),n("div",{staticClass:"user"},[n("button",{on:{click:function(e){return t.selectPostInfo("user")}},model:{value:t.postForm.name,callback:function(e){t.$set(t.postForm,"name",e)},expression:"postForm.name"}},[t._v(t._s(t.postForm.name))])]),n("div",{staticClass:"title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.title,expression:"postForm.title"}],attrs:{placeholder:"標題"},domProps:{value:t.postForm.title},on:{input:function(e){e.target.composing||t.$set(t.postForm,"title",e.target.value)}}})]),n("div",{staticClass:"content"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postForm.content,expression:"postForm.content"}],attrs:{type:"textarea",placeholder:"內文"},domProps:{value:t.postForm.content},on:{input:function(e){e.target.composing||t.$set(t.postForm,"content",e.target.value)}}})]),n("div",{staticClass:"button"},[n("button",{on:{click:function(e){return t.cancel()}}},[t._v("取消")]),n("button",{class:{disable:t.disable},on:{click:function(e){return t.postNewArticle(t.postForm)}}},[t._v("發表")])])]),n("dialog-page",{attrs:{visible:t.isOpenDialog,radius:"",width:"500px"},on:{"update:visible":function(e){t.isOpenDialog=e}}},[n("div",{staticClass:"select"},[n("h1",[t._v("請選擇")]),n("div",{staticClass:"list"},t._l(t.selectList[t.activeSelect],(function(e){return n("article",{key:e.name,on:{click:function(n){return t.handleSelect(e)}}},[n("div",{staticClass:"icon"},[n("circle-icon",{attrs:{icon:e.icon,"icon-size":18,color:e.fontColor,"background-color":e.color}})],1),n("div",{staticClass:"text"},[n("span",[t._v(t._s(e.name))])])])})),0)])]),n("dialog-page",{attrs:{visible:t.isOpenRule,radius:"",width:"600px"},on:{"update:visible":function(e){t.isOpenRule=e}}},[n("div",{staticClass:"rule"},[n("h1",[t._v("與狄卡的發文留言小約定")]),n("p",[t._v("一、禁止使用不雅字眼、中傷、歧視、挑釁或謾罵他人。")]),n("p",[t._v("二、為了創造更佳的內容體驗，Dcard 全面禁止在文章與留言內留下個人聯絡方式或 ID。")]),n("p",[t._v("三、請勿短時間內張貼大量重複內容。")]),n("p",[t._v("四、除廢文板以外，文章內文字數需多於 15 個繁體中文字。")]),n("p",[t._v("五、若文章中有部分內容與事實不符，請適度在標題或內文、留言中標示。未標示並經他人檢舉提出明確證據，且態度不佳者，將斟酌處分，情節嚴重可能永久停權。")]),n("p",[t._v("六、若舉辦活動如板聚、明信片交換等，需要使用表單，需徵求到 20 人以上留言「+1」表示願意參加後，方可提供表單連結做報名使用。")]),n("p",[t._v("七、請善用「加入話題」為文章分類，讓更多人與你產生共鳴！更多話題的使用方式請點我。")]),n("br"),n("p",[t._v("其餘規定請參閱板規，若有疑問請私訊粉專。")]),n("div",{staticClass:"know"},[n("button",{on:{click:function(e){return t.handleRule()}}},[t._v("我知道了")])])])])],1)},r=[],o=(n("99af"),n("b0c0"),n("96cf"),n("1da1")),a=n("2909"),s=n("5530"),c=n("e2c9"),l=n("0d07"),u=n("9a7a"),f=n("2f62"),d={name:"new-post",components:{dialogPage:c["a"],circleIcon:l["a"]},data:function(){return{postForm:{kanbanName:"點此選擇發文看板",kanbanCode:"",name:"請選擇發文身份",title:"",content:""},activeSelect:"kanban",isOpenDialog:!1,isOpenRule:!1,loading:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(f["d"])(["kanbanList","userInfo"])),{},{disable:function(){return"點此選擇發文看板"===this.postForm.kanbanName||(""===this.postForm.kanbanCode||("請選擇發文身份"===this.postForm.name||(""===this.postForm.title||this.postForm.title.length>50||""===this.postForm.content)))},isVisible:function(){return{kanban:"kanban"===this.activeSelect,user:"user"===this.activeSelect}},selectList:function(){return{kanban:Object(a["a"])(this.kanbanList),user:[{name:"匿名",icon:["fas","users-slash"],fontColor:"#cb1818"},{name:this.userInfo.school,icon:["fas","graduation-cap"],fontColor:"#f3ae00"},{name:"".concat(this.userInfo.school,"  ").concat(this.userInfo.name),icon:["fas","house-user"],fontColor:"#006AA6"},{name:this.userInfo.name,icon:["fas","user-circle"],fontColor:"#08aa18"}]}}}),methods:Object(s["a"])(Object(s["a"])({},Object(f["b"])(["setUserInfo"])),{},{selectPostInfo:function(t){this.isOpenDialog=!0,this.activeSelect=t},handleSelect:function(t){this.isVisible.user&&(this.postForm.name=t.name),this.isVisible.kanban&&(this.postForm.kanbanName=t.name,this.postForm.kanbanCode=t.code),this.isOpenDialog=!1},handleRule:function(){this.isOpenRule=!this.isOpenRule},cancel:function(){this.$router.go(-1)},postNewArticle:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.disable){n.next=2;break}return n.abrupt("return");case 2:return e.loading=!0,i={name:t.name,time:Object(u["b"])(),sortTime:Date.now(),kanban:t.kanbanName,kanbanCode:t.kanbanCode,title:t.title,content:t.content,img:"picture"},n.next=6,e.postArticleApi(i);case 6:e.loading=!1;case 7:case"end":return n.stop()}}),n)})))()},postArticleApi:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$database.setArticle(t);case 2:if(i=n.sent,!1!==i.status){n.next=5;break}return n.abrupt("return",e.$message("發表失敗","error"));case 5:e.setUserInfoPost(Object(s["a"])(Object(s["a"])({},t),{},{id:i.id})),e.$message("發表成功"),e.$router.push({name:"kanban",params:{kanban:t.kanbanCode,id:i.id}});case 8:case"end":return n.stop()}}),n)})))()},setUserInfoPost:function(t){var e=Object(u["a"])(this.userInfo);e.post?e.post.push(t):e.post=[t],this.setUserInfo(e),this.$database.setUser(e)}})},p=d,h=(n("2b75"),n("2877")),b=Object(h["a"])(p,i,r,!1,null,"00c1ee88",null);e["default"]=b.exports},c530:function(t,e,n){"use strict";var i=n("8bf1"),r=n.n(i);r.a},d28b:function(t,e,n){var i=n("746f");i("iterator")},ddb0:function(t,e,n){var i=n("da84"),r=n("fdbc"),o=n("e260"),a=n("9112"),s=n("b622"),c=s("iterator"),l=s("toStringTag"),u=o.values;for(var f in r){var d=i[f],p=d&&d.prototype;if(p){if(p[c]!==u)try{a(p,c,u)}catch(b){p[c]=u}if(p[l]||a(p,l,f),r[f])for(var h in o)if(p[h]!==o[h])try{a(p,h,o[h])}catch(b){p[h]=o[h]}}}},e01a:function(t,e,n){"use strict";var i=n("23e7"),r=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,l=n("e893"),u=o.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var h=p.toString,b="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(f,t))return"";var n=b?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:d})}},e2c9:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mask",on:{click:function(e){return t.changeVisible()}}},[n("div",{ref:"dialog",staticClass:"dialog",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"close"},[n("awesome-icon",{attrs:{icon:["fas","times"]},on:{click:function(e){return t.changeVisible()}}})],1),t._t("default")],2)])},r=[],o=(n("4160"),n("b64b"),n("159b"),{name:"dialog-page",props:{width:{type:String,default:"500px"},minWidth:{type:String,default:""},maxWidth:{type:String,default:""},height:{type:String,default:""},visible:{type:Boolean,default:!1},radius:Boolean},watch:{visible:function(t){document.body.style.overflow=t?"hidden":"auto"}},mounted:function(){this.initAttr()},methods:{initAttr:function(){var t=this,e={width:this.width,minWidth:this.minWidth,maxWidth:this.maxWidth,height:this.height};Object.keys(e).forEach((function(n){t.$refs.dialog.style[n]=e[n]})),this.radius&&(this.$refs.dialog.style["borderRadius"]="1rem")},changeVisible:function(){this.$emit("update:visible",!1)}}}),a=o,s=(n("4c90"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"8a47e896",null);e["a"]=c.exports},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),o=n("e8b5"),a=n("23cb"),s=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),f=n("1dde"),d=n("ae40"),p=f("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),v=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,e){var n,i,u,f=c(this),d=s(f.length),p=a(t,d),h=a(void 0===e?d:e,d);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(f,p,h);for(i=new(void 0===n?Array:n)(m(h-p,0)),u=0;p<h;p++,u++)p in f&&l(i,u,f[p]);return i.length=u,i}})}}]);
//# sourceMappingURL=chunk-38fd7917.97fa19f2.js.map